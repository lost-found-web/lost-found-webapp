{% extends "base.html" %}

{% block title %}Home | Lost & Found{% endblock %}

{% block content %}

<!-- HERO SECTION -->
<section class="hero-section text-white text-center">
    <div class="container">
        <h1 class="fw-bold">Found Something? Lost Something?</h1>
        <p class="mt-3">
            We help connect lost items with their rightful owners.
        </p>
    </div>
</section>

<!-- SEARCH & FILTER -->
<section class="container my-4">
  <form method="GET" class="row g-2">

    <div class="col-md-4">
      <input type="text"
             class="form-control"
             name="search"
             placeholder="Search by item name"
             value="{{ search }}">
    </div>

    <div class="col-md-3">
      <select class="form-control" name="category">
        <option value="">All Categories</option>
        <option {% if category=="Mobile" %}selected{% endif %}>Mobile</option>
        <option {% if category=="Wallet" %}selected{% endif %}>Wallet</option>
        <option {% if category=="Documents" %}selected{% endif %}>Documents</option>
        <option {% if category=="Keys" %}selected{% endif %}>Keys</option>
        <option {% if category=="Others" %}selected{% endif %}>Others</option>
      </select>
    </div>

    <div class="col-md-3">
      <input type="text"
             class="form-control"
             name="location"
             placeholder="Location"
             value="{{ location }}">
    </div>

    <div class="col-md-2 d-grid">
      <button class="btn btn-primary">
        Search
      </button>
    </div>

  </form>
</section>


<!-- FEATURED ITEMS -->
<section class="container my-5">
    <h3 class="text-center mb-4">Recent Lost & Found Items</h3>

    {% if items %}
    <div class="row g-4">
        {% for item in items %}
        <div class="col-md-3">
            <div class="card item-card h-100">
                {% if item.image %}
<img src="{{ url_for('static', filename='uploads/' ~ item.image) }}"
     class="card-img-top"
     alt="Item Image">
{% else %}
<img src="https://via.placeholder.com/300x200"
     class="card-img-top"
     alt="No Image">
{% endif %}


                <div class="card-body">
                    {% if item.item_type == "lost" %}
                        <span class="badge bg-danger mb-2">Lost</span>
                    {% else %}
                        <span class="badge bg-success mb-2">Found</span>
                    {% endif %}

                    <h5 class="card-title">{{ item.item_name }}</h5>

                    <p class="card-text text-muted small">
                        <strong>Category:</strong> {{ item.category }} <br>
                        <strong>Location:</strong> {{ item.location }} <br>
                        <strong>Date:</strong> {{ item.date_reported.strftime('%d %b %Y') }}
                    </p>

                    <a href="{{ url_for('items.item_details', item_id=item.id) }}"
   class="btn btn-outline-primary btn-sm w-100">
    View Details
</a>

                </div>
            </div>
        </div>
        {% endfor %}
    </div>
    {% else %}
        <p class="text-center text-muted">No items reported yet.</p>
    {% endif %}
</section>


{% endblock %}

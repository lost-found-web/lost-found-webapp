{% extends "base.html" %}
{% block title %}My Profile{% endblock %}

{% block content %}
<div class="container my-5">
  <div class="row justify-content-center">
    <div class="col-md-6">

      <div class="card shadow-sm p-4">
        <h4 class="mb-3">My Profile</h4>

        {% with messages = get_flashed_messages(with_categories=true) %}
  {% for category, message in messages %}
    {% if message == "Profile updated successfully" %}
      <div class="alert alert-success">{{ message }}</div>
    {% endif %}
  {% endfor %}
{% endwith %}


        <form method="POST">
          <div class="mb-2">
            <label class="form-label">Full Name</label>
            <input class="form-control"
                   name="full_name"
                   value="{{ current_user.full_name }}"
                   required>
          </div>

          <div class="mb-2">
            <label class="form-label">Email</label>
            <input class="form-control"
                   name="email"
                   type="email"
                   value="{{ current_user.email }}"
                   required>
          </div>

          <div class="mb-3">
            <label class="form-label">Contact Number</label>
            <input class="form-control"
                   name="contact_number"
                   value="{{ current_user.contact_number }}"
                   required>
          </div>

          <button class="btn btn-primary w-100">
            Update Profile
          </button>
        </form>

      </div>

    </div>
  </div>
</div>
{% endblock %}
